{"id":"looper-1t1","title":"Add afk prd parse CLI command","description":"Add prd command group with parse subcommand to convert prose PRDs to structured JSON","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-10T00:47:59.946057Z","created_by":"rob.macdonald","updated_at":"2026-01-10T00:49:43.656425Z","closed_at":"2026-01-10T00:49:43.656425Z","close_reason":"Added afk prd parse command with clipboard, file, and stdout output options","labels":["feature"],"dependencies":[{"issue_id":"looper-1t1","depends_on_id":"looper-yzj","type":"blocks","created_at":"2026-01-10T00:48:14.453093Z","created_by":"rob.macdonald"}]}
{"id":"looper-1vl","title":"Add learnings.txt for append-only iteration context","description":"Add a human-readable learnings file that AI appends to after each iteration. This is critical to the Ralph pattern - prevents repeat mistakes and accumulates knowledge. Should include: 1) learnings.txt file in .afk/, 2) instructions in prompt to append discoveries, 3) content included in every prompt generation.","status":"closed","priority":1,"issue_type":"feature","created_at":"2026-01-10T01:10:24.427404Z","created_by":"rob.macdonald","updated_at":"2026-01-10T01:19:09.177235Z","closed_at":"2026-01-10T01:19:09.177235Z","close_reason":"Added learnings.py module with append_learning, load_learnings, get_recent_learnings. Integrated into prompt template and CLI with afk learn command","labels":["core"]}
{"id":"looper-45o","title":"Simplify to single primary flow with afk run","description":"Currently three modes (HITL, bootstrap, wrapper) is confusing. Make afk run the primary documented flow. Keep afk next for debugging but de-emphasise. Remove --bootstrap flag complexity by making it automatic in afk run.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-10T01:10:57.563925Z","created_by":"rob.macdonald","updated_at":"2026-01-10T01:19:15.888508Z","closed_at":"2026-01-10T01:19:15.888508Z","close_reason":"Updated README to emphasise afk run as primary flow, added afk start convenience command, de-emphasised bootstrap mode","labels":["dx"]}
{"id":"looper-62h","title":"Run quality gates before auto-commit","description":"The runner should run feedback loops (lint, test, typecheck) BEFORE marking a task complete and committing. Broken code compounds across iterations. Currently we auto-commit without verification.","status":"closed","priority":1,"issue_type":"bug","created_at":"2026-01-10T01:10:32.877143Z","created_by":"rob.macdonald","updated_at":"2026-01-10T01:19:12.665224Z","closed_at":"2026-01-10T01:19:12.665224Z","close_reason":"Added run_quality_gates() to runner.py - now runs all feedback loops before auto-commit, skips commit if gates fail","labels":["core"]}
{"id":"looper-9yu","title":"Improve README with flowchart and debugging guide","description":"Add: 1) Visual flowchart of the loop (ASCII or link to diagram), 2) Debugging section showing how to check state, 3) Examples of good vs bad task sizes, 4) Clear explanation of what memory persists between iterations.","status":"closed","priority":3,"issue_type":"task","created_at":"2026-01-10T01:11:01.879582Z","created_by":"rob.macdonald","updated_at":"2026-01-10T01:19:22.29446Z","closed_at":"2026-01-10T01:19:22.29446Z","close_reason":"Rewrote README with ASCII flowchart, debugging section, task size examples, memory persistence explanation","labels":["dx"]}
{"id":"looper-ahv","title":"Add AGENTS.md update instructions to prompts","description":"Prompt template should instruct AI to update AGENTS.md with discoveries after each task. This is how knowledge accumulates across sessions. Add instruction like: 'Update AGENTS.md with any patterns, gotchas, or conventions discovered.'","status":"closed","priority":1,"issue_type":"feature","created_at":"2026-01-10T01:10:30.202357Z","created_by":"rob.macdonald","updated_at":"2026-01-10T01:19:10.72418Z","closed_at":"2026-01-10T01:19:10.72418Z","close_reason":"Added AGENTS.md update instructions and learnings recording steps to DEFAULT_TEMPLATE in prompt.py","labels":["core"]}
{"id":"looper-aj3","title":"Better defaults: auto_commit, timeout","description":"Update defaults: auto_commit true, timeout 30 mins. Part of zero-config DX overhaul.","status":"closed","priority":3,"issue_type":"task","created_at":"2026-01-10T01:35:37.305619Z","created_by":"rob.macdonald","updated_at":"2026-01-10T02:21:14.381216Z","closed_at":"2026-01-10T02:21:14.381216Z","close_reason":"Updated defaults: auto_commit=true, timeout_minutes=30"}
{"id":"looper-bh2","title":"Add missing 'afk fail' command - referenced in prompt but not implemented","description":"The bootstrap prompt template in prompt.py references 'afk fail \u003ctask-id\u003e' for marking tasks as failed, but this command doesn't exist in cli.py. The mark_failed() function exists in progress.py but isn't exposed via the CLI.","status":"closed","priority":2,"issue_type":"bug","created_at":"2026-01-10T00:31:37.246404Z","created_by":"rob.macdonald","updated_at":"2026-01-10T00:36:46.830146Z","closed_at":"2026-01-10T00:36:46.830146Z","close_reason":"Closed"}
{"id":"looper-c00","title":"Implicit source detection without config file","description":"Auto-detect task sources (prompt.md, TODO.md, prd.json, .beads) without requiring afk init. Part of zero-config DX overhaul.","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-10T01:35:25.588629Z","created_by":"rob.macdonald","updated_at":"2026-01-10T01:42:26.054506Z","closed_at":"2026-01-10T01:42:26.054506Z","close_reason":"Closed"}
{"id":"looper-cke","title":"Add afk explain command for debugging","description":"Add command to understand current loop state: current/next task, why selected, what's pending, failure counts, learnings from current session. Essential for debugging stuck loops.","status":"closed","priority":2,"issue_type":"feature","created_at":"2026-01-10T01:10:39.43378Z","created_by":"rob.macdonald","updated_at":"2026-01-10T01:19:14.113754Z","closed_at":"2026-01-10T01:19:14.113754Z","close_reason":"Added afk explain command showing session state, next task, learnings, and failure details with --verbose flag","labels":["dx"]}
{"id":"looper-dpa","title":"Prompt-only mode for ralf.sh parity","description":"Support single prompt.md file mode - pipe prompt to AI CLI, check for completion signal, repeat. No task management. Part of zero-config DX overhaul.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-10T01:35:29.748119Z","created_by":"rob.macdonald","updated_at":"2026-01-10T01:48:56.030305Z","closed_at":"2026-01-10T01:48:56.030305Z","close_reason":"Closed"}
{"id":"looper-ed0","title":"Runner refactor: IterationRunner, LoopController, OutputHandler","description":"Split runner.py into focused classes for better maintainability. Part of zero-config DX overhaul.","status":"in_progress","priority":3,"issue_type":"task","created_at":"2026-01-10T01:35:39.237825Z","created_by":"rob.macdonald","updated_at":"2026-01-10T02:28:17.03813Z"}
{"id":"looper-esu","title":"Review the code and update all documentation","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-10T00:28:54.223737Z","created_by":"rob.macdonald","updated_at":"2026-01-10T00:32:47.114161Z","closed_at":"2026-01-10T00:32:47.114161Z","close_reason":"Closed"}
{"id":"looper-ki2","title":"Add afk start convenience command","description":"Single command that: runs init if needed, prompts for task source if none configured, optionally creates feature branch, starts the loop. Reduces onboarding friction.","status":"closed","priority":3,"issue_type":"feature","created_at":"2026-01-10T01:10:44.873834Z","created_by":"rob.macdonald","updated_at":"2026-01-10T01:19:19.086206Z","closed_at":"2026-01-10T01:19:19.086206Z","close_reason":"Added afk start command - runs init if needed, checks for sources, confirms and starts loop","labels":["dx"]}
{"id":"looper-l83","title":"First-run AI CLI selection: detect installed CLIs and prompt user to choose","description":"On first run, detect available AI CLIs (claude, aider, cursor, amp) and prompt user to select one. Save choice to .afk/config.json. Part of zero-config DX overhaul.","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-10T01:35:23.985872Z","created_by":"rob.macdonald","updated_at":"2026-01-10T01:40:07.630619Z","closed_at":"2026-01-10T01:40:07.630619Z","close_reason":"Closed"}
{"id":"looper-or7","title":"Resume mode: continue from last iteration","description":"Add afk resume command and --continue flag to pick up where left off instead of archiving. Part of zero-config DX overhaul.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-10T01:35:35.966399Z","created_by":"rob.macdonald","updated_at":"2026-01-10T02:25:00.920163Z","closed_at":"2026-01-10T02:25:00.920163Z","close_reason":"Added afk resume command and --continue flag to afk run. Runner now has resume parameter to skip archiving."}
{"id":"looper-qrv","title":"Streaming runner with live output","description":"Rewrite runner to stream AI output in real-time instead of blocking. Essential for DX. Part of zero-config DX overhaul.","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-10T01:35:32.059023Z","created_by":"rob.macdonald","updated_at":"2026-01-10T02:20:49.987332Z","closed_at":"2026-01-10T02:20:49.987332Z","close_reason":"Streaming already implemented in run_iteration() with stream=True parameter and real-time line-by-line output"}
{"id":"looper-sft","title":"Completion signal detection in AI output","description":"Detect completion signals like \u003cpromise\u003eCOMPLETE\u003c/promise\u003e or AFK_COMPLETE in AI output for early exit. Part of zero-config DX overhaul.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-10T01:35:33.956852Z","created_by":"rob.macdonald","updated_at":"2026-01-10T02:20:53.985938Z","closed_at":"2026-01-10T02:20:53.985938Z","close_reason":"Completion signals already implemented via COMPLETION_SIGNALS list and _contains_completion_signal() function with tests"}
{"id":"looper-tb7","title":"Add task size guidance to PRD parsing and prompts","description":"Add guidance about task atomicity: each task should complete in one context window. Add to: 1) afk prd parse prompt template, 2) README documentation, 3) Warning in prompt if task description exceeds N chars.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-10T01:11:00.168418Z","created_by":"rob.macdonald","updated_at":"2026-01-10T01:19:17.658778Z","closed_at":"2026-01-10T01:19:17.658778Z","close_reason":"Added comprehensive task size guidance to PRD_PARSE_TEMPLATE in prd.py with examples of right-sized vs too-large tasks","labels":["dx"]}
{"id":"looper-uid","title":"Update json_prd.py to preserve category and steps fields","description":"Extend json_prd.py reader to preserve Anthropic format fields (category, steps) in task metadata","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-10T00:48:01.874057Z","created_by":"rob.macdonald","updated_at":"2026-01-10T00:50:07.326706Z","closed_at":"2026-01-10T00:50:07.326706Z","close_reason":"Updated docstring to document full Anthropic format - category and steps already preserved in metadata","labels":["enhancement"]}
{"id":"looper-wae","title":"Simplified CLI: positional args (afk 10, afk TODO.md 5)","description":"Make afk itself a command with optional positional args, not just a group. Enable afk 10 to auto-detect and run. Part of zero-config DX overhaul.","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-10T01:35:27.451576Z","created_by":"rob.macdonald","updated_at":"2026-01-10T01:45:37.778749Z","closed_at":"2026-01-10T01:45:37.778749Z","close_reason":"Closed"}
{"id":"looper-xoq","title":"Add tests for PRD parsing functionality","description":"Unit tests for prd.py module and integration tests for CLI command","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-10T00:48:03.242726Z","created_by":"rob.macdonald","updated_at":"2026-01-10T00:51:28.940612Z","closed_at":"2026-01-10T00:51:28.940612Z","close_reason":"Added 22 new tests: 13 for prd.py module, 9 for CLI prd parse command","labels":["test"],"dependencies":[{"issue_id":"looper-xoq","depends_on_id":"looper-yzj","type":"blocks","created_at":"2026-01-10T00:48:14.605076Z","created_by":"rob.macdonald"},{"issue_id":"looper-xoq","depends_on_id":"looper-1t1","type":"blocks","created_at":"2026-01-10T00:48:14.764315Z","created_by":"rob.macdonald"}]}
{"id":"looper-y2w","title":"Add task reset command","description":"Add afk reset \u003ctask-id\u003e to reset a stuck task: clears failure count, sets status back to pending. Useful when a task repeatedly fails due to transient issues.","status":"closed","priority":3,"issue_type":"feature","created_at":"2026-01-10T01:10:47.317746Z","created_by":"rob.macdonald","updated_at":"2026-01-10T01:19:20.355806Z","closed_at":"2026-01-10T01:19:20.355806Z","close_reason":"Added afk reset command - clears failure count, sets status back to pending for stuck tasks","labels":["dx"]}
{"id":"looper-yzj","title":"Create prd.py module with PRD parsing prompt generation","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-10T00:47:55.07894Z","created_by":"rob.macdonald","updated_at":"2026-01-10T00:48:59.201768Z","closed_at":"2026-01-10T00:48:59.201768Z","close_reason":"Created prd.py module with generate_prd_prompt function and Jinja2 template","labels":["feature"]}
