{"id":"afk-1","title":"Introduced a lot more excitement to the to-do list, namely fireworks and a moving background.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-14T15:20:04.237259Z","created_by":"rob.macdonald","updated_at":"2026-01-15T11:23:14.147739Z","closed_at":"2026-01-15T11:23:14.147739Z","close_reason":"Closed"}
{"id":"afk-10","title":"Remove duplicate infer_sources() function","description":"The infer_sources() function is duplicated in go.rs and bootstrap/mod.rs. Remove the one in go.rs and use bootstrap::infer_sources() everywhere. This is technical debt from the code review.","status":"closed","priority":2,"issue_type":"chore","created_at":"2026-01-15T23:02:17.614084Z","created_by":"rob.macdonald","updated_at":"2026-01-16T00:44:49.754085Z","closed_at":"2026-01-15T23:17:26.159344Z","close_reason":"Closed","labels":["refactor","cleanup"]}
{"id":"afk-11","title":"Audit .unwrap() calls in production code paths","description":"There are 637 .unwrap() calls across 30 files. While many are in tests, some are in production code paths (runner/controller.rs, runner/iteration.rs, bootstrap/mod.rs, prd/store.rs). Audit these and convert to proper error handling where appropriate.","status":"closed","priority":2,"issue_type":"chore","created_at":"2026-01-15T23:02:21.391337Z","created_by":"rob.macdonald","updated_at":"2026-01-16T00:40:19.610744Z","closed_at":"2026-01-16T00:40:19.610744Z","close_reason":"Closed","labels":["refactor","error-handling","robustness"]}
{"id":"afk-12","title":"Refactor run_iteration_with_tui() - too long","description":"The run_iteration_with_tui() function in runner/controller.rs is 280+ lines. Extract helper functions: build_ai_command(), handle_stream_event(), wait_for_completion(). This improves readability and testability.","status":"open","priority":3,"issue_type":"chore","created_at":"2026-01-15T23:02:24.715581Z","created_by":"rob.macdonald","updated_at":"2026-01-15T23:02:24.715581Z","labels":["refactor","runner"]}
{"id":"afk-13","title":"Fix or remove unused SourceError::LoadError variant","description":"The SourceError::LoadError variant in sources/mod.rs is defined but never constructed. Individual source loaders return Ok(Vec::new()) on failure instead of Err(SourceError::LoadError). Either use it properly or remove the dead code.","status":"open","priority":3,"issue_type":"chore","created_at":"2026-01-15T23:02:28.126719Z","created_by":"rob.macdonald","updated_at":"2026-01-15T23:02:28.126719Z","labels":["cleanup","dead-code"]}
{"id":"afk-2","title":"Documentation review workflow on push to main","description":"Create a GitHub Actions workflow that triggers a full documentation review on every push to main. This should:\n- Check for outdated documentation\n- Verify code examples compile\n- Check for broken internal links\n- Validate README and AGENTS.md are up to date with actual code structure","status":"closed","priority":2,"issue_type":"epic","created_at":"2026-01-14T23:15:42.67486Z","created_by":"rob.macdonald","updated_at":"2026-01-15T11:23:13.674473Z","closed_at":"2026-01-15T11:23:13.674473Z","close_reason":"Closed","labels":["docs","ci","workflow"]}
{"id":"afk-2.1","title":"Create GitHub Actions workflow file for docs review","description":"Create .github/workflows/docs-review.yml that triggers on push to main. Set up the basic workflow structure with Rust toolchain and checkout steps.","status":"closed","priority":2,"issue_type":"task","estimated_minutes":30,"created_at":"2026-01-14T23:16:53.979522Z","created_by":"rob.macdonald","updated_at":"2026-01-15T23:13:19.086145Z","closed_at":"2026-01-15T23:13:19.086145Z","close_reason":"Closed","labels":["ci","docs"],"dependencies":[{"issue_id":"afk-2.1","depends_on_id":"afk-2","type":"parent-child","created_at":"0001-01-01T00:00:00Z"}]}
{"id":"afk-2.2","title":"Add code example validation to docs workflow","description":"Verify that code examples in documentation (README, AGENTS.md, docs/) compile correctly. Use cargo doc --document-private-items and consider rustdoc tests or a custom validator script.","status":"in_progress","priority":2,"issue_type":"task","estimated_minutes":45,"created_at":"2026-01-14T23:16:56.700525Z","created_by":"rob.macdonald","updated_at":"2026-01-16T00:44:49.995788Z","labels":["ci","docs"],"dependencies":[{"issue_id":"afk-2.2","depends_on_id":"afk-2","type":"parent-child","created_at":"0001-01-01T00:00:00Z"}]}
{"id":"afk-2.3","title":"Add internal link checking to docs workflow","description":"Check for broken internal links in documentation. Consider using lychee, markdown-link-check, or a custom script to validate relative links between docs files and references to source files.","status":"closed","priority":2,"issue_type":"task","estimated_minutes":30,"created_at":"2026-01-14T23:16:59.028253Z","created_by":"rob.macdonald","updated_at":"2026-01-16T00:44:49.833955Z","closed_at":"2026-01-15T23:23:25.378239Z","close_reason":"Closed","labels":["ci","docs"],"dependencies":[{"issue_id":"afk-2.3","depends_on_id":"afk-2","type":"parent-child","created_at":"0001-01-01T00:00:00Z"}]}
{"id":"afk-2.4","title":"Add structure validation to docs workflow","description":"Validate that README.md and AGENTS.md reflect actual code structure. Check that documented modules exist, command examples are valid, and architecture diagrams match the source tree. May need a custom validation script.","status":"closed","priority":2,"issue_type":"task","estimated_minutes":60,"created_at":"2026-01-14T23:17:01.751621Z","created_by":"rob.macdonald","updated_at":"2026-01-16T00:44:49.497205Z","closed_at":"2026-01-16T00:44:49.497205Z","close_reason":"Closed","labels":["ci","docs"],"dependencies":[{"issue_id":"afk-2.4","depends_on_id":"afk-2","type":"parent-child","created_at":"0001-01-01T00:00:00Z"}]}
{"id":"afk-3","title":"Implement code review recommendations","description":"Implement all changes outlined in docs/prds/code-review-2026-01.md. This epic tracks the high, medium, and low priority refactoring tasks identified in the January 2026 code review.","status":"closed","priority":1,"issue_type":"epic","created_at":"2026-01-14T23:15:48.698318Z","created_by":"rob.macdonald","updated_at":"2026-01-15T23:11:57.283791Z","closed_at":"2026-01-15T23:11:57.283791Z","close_reason":"Closed","labels":["refactor","code-quality"]}
{"id":"afk-3.1","title":"Split cli/mod.rs - move execute() implementations to commands/","description":"cli/mod.rs is 2,006 lines. Refactor to move each command's execute() implementation into cli/commands/{command}.rs. The file currently mixes Clap struct definitions with business logic. Keep Clap definitions in mod.rs, move implementations to submodules.","status":"closed","priority":1,"issue_type":"task","estimated_minutes":180,"created_at":"2026-01-14T23:16:00.718332Z","created_by":"rob.macdonald","updated_at":"2026-01-15T11:23:13.314601Z","closed_at":"2026-01-15T11:23:13.314601Z","close_reason":"Closed","labels":["refactor","high-priority"],"dependencies":[{"issue_id":"afk-3.1","depends_on_id":"afk-3","type":"parent-child","created_at":"0001-01-01T00:00:00Z"}]}
{"id":"afk-3.10","title":"Extract archive logic from progress/mod.rs into archive.rs","description":"progress/mod.rs is 1,407 lines. Extract archive-related functionality into a dedicated archive.rs submodule.","status":"closed","priority":2,"issue_type":"task","estimated_minutes":60,"created_at":"2026-01-14T23:16:44.367247Z","created_by":"rob.macdonald","updated_at":"2026-01-16T00:44:49.577638Z","closed_at":"2026-01-15T23:17:26.239582Z","close_reason":"Closed","labels":["refactor","medium-priority"],"dependencies":[{"issue_id":"afk-3.10","depends_on_id":"afk-3","type":"parent-child","created_at":"0001-01-01T00:00:00Z"}]}
{"id":"afk-3.11","title":"Consider splitting spinner/panel logic in feedback/display.rs","description":"feedback/display.rs is 1,034 lines. Consider splitting spinner and panel logic into separate submodules for better organisation.","status":"in_progress","priority":3,"issue_type":"task","estimated_minutes":60,"created_at":"2026-01-14T23:16:46.290029Z","created_by":"rob.macdonald","updated_at":"2026-01-15T11:48:27.077628Z","labels":["refactor","low-priority"],"dependencies":[{"issue_id":"afk-3.11","depends_on_id":"afk-3","type":"parent-child","created_at":"0001-01-01T00:00:00Z"}]}
{"id":"afk-3.2","title":"Audit and remove dead code (16 #[allow(dead_code)] items)","description":"16 items marked with #[allow(dead_code)]:\n- src/tui/ui.rs: 4 unused sidebar functions (draw_sidebar, draw_task_panel, etc.)\n- src/tui/app.rs: 3 unused TuiStats fields\n- src/runner/controller.rs: 2 unused fields\n- src/runner/iteration.rs: 1 unused field\n- src/runner/quality_gates.rs: 1 unused function\n- src/watcher/mod.rs: 1 unused method\n- src/git/mod.rs: 1 unused function\n- src/sources/beads.rs: 1 unused helper\n- src/cli/commands/config.rs: 1 unused helper\n\nFor each: remove if truly dead, mark as #[cfg(feature = \"...\")] if for future use, or add documentation explaining retention.","status":"closed","priority":1,"issue_type":"task","estimated_minutes":60,"created_at":"2026-01-14T23:16:09.470777Z","created_by":"rob.macdonald","updated_at":"2026-01-15T11:23:13.399267Z","closed_at":"2026-01-15T11:23:13.399267Z","close_reason":"Closed","labels":["cleanup","high-priority"],"dependencies":[{"issue_id":"afk-3.2","depends_on_id":"afk-3","type":"parent-child","created_at":"0001-01-01T00:00:00Z"}]}
{"id":"afk-3.3","title":"Fix set_task_status unwrap() pattern in progress module","description":"The set_task_status method uses an unnecessary unwrap() after inserting a key. Return \u0026TaskProgress from the entry() call directly instead of re-fetching. Quick fix for cleaner code.","status":"closed","priority":2,"issue_type":"task","estimated_minutes":15,"created_at":"2026-01-14T23:16:15.358262Z","created_by":"rob.macdonald","updated_at":"2026-01-15T11:23:13.597211Z","closed_at":"2026-01-15T11:23:13.597211Z","close_reason":"Closed","labels":["refactor","medium-priority"],"dependencies":[{"issue_id":"afk-3.3","depends_on_id":"afk-3","type":"parent-child","created_at":"0001-01-01T00:00:00Z"}]}
{"id":"afk-3.4","title":"Add #[deny(missing_docs)] to lib.rs and fill documentation gaps","description":"Most public functions have doc comments, but some are missing. Add #[deny(missing_docs)] to lib.rs to enforce documentation, then fill in all gaps. This improves codebase maintainability and generates better rustdoc output.","status":"closed","priority":2,"issue_type":"task","estimated_minutes":90,"created_at":"2026-01-14T23:16:18.409536Z","created_by":"rob.macdonald","updated_at":"2026-01-15T11:23:13.841947Z","closed_at":"2026-01-15T11:23:13.841947Z","close_reason":"Closed","labels":["docs","medium-priority"],"dependencies":[{"issue_id":"afk-3.4","depends_on_id":"afk-3","type":"parent-child","created_at":"0001-01-01T00:00:00Z"}]}
{"id":"afk-3.5","title":"Refactor execute() methods to return Result\u003cExitCode, Error\u003e","description":"Some execute methods use eprintln! + std::process::exit() directly instead of returning errors. Refactor to return Result\u003cExitCode, Error\u003e for better testability and consistency. The main.rs entrypoint can convert to exit codes.","status":"closed","priority":2,"issue_type":"task","estimated_minutes":180,"created_at":"2026-01-14T23:16:21.535708Z","created_by":"rob.macdonald","updated_at":"2026-01-15T11:23:14.03855Z","closed_at":"2026-01-15T11:23:14.03855Z","close_reason":"Closed","labels":["refactor","medium-priority"],"dependencies":[{"issue_id":"afk-3.5","depends_on_id":"afk-3","type":"parent-child","created_at":"0001-01-01T00:00:00Z"}]}
{"id":"afk-3.6","title":"Make magic numbers configurable","description":"Various hardcoded values could be constants or config:\n- max_output_lines defaults to 500\n- Activity thresholds (2s, 10s)\n\nConsider making these configurable via AfkConfig or at minimum consolidate into a single constants module.","status":"closed","priority":2,"issue_type":"task","estimated_minutes":45,"created_at":"2026-01-14T23:16:24.521106Z","created_by":"rob.macdonald","updated_at":"2026-01-15T11:23:13.93723Z","closed_at":"2026-01-15T11:23:13.93723Z","close_reason":"Closed","labels":["refactor","medium-priority"],"dependencies":[{"issue_id":"afk-3.6","depends_on_id":"afk-3","type":"parent-child","created_at":"0001-01-01T00:00:00Z"}]}
{"id":"afk-3.7","title":"Extract shared PathMatcher utility for ignore patterns","description":"File ignore patterns are duplicated between watcher/mod.rs and potentially other places. Extract a shared PathMatcher utility to DRY up the pattern matching logic.","status":"in_progress","priority":3,"issue_type":"task","estimated_minutes":30,"created_at":"2026-01-14T23:16:29.769094Z","created_by":"rob.macdonald","updated_at":"2026-01-15T11:38:37.779898Z","labels":["refactor","low-priority"],"dependencies":[{"issue_id":"afk-3.7","depends_on_id":"afk-3","type":"parent-child","created_at":"0001-01-01T00:00:00Z"}]}
{"id":"afk-3.8","title":"Add more end-to-end integration tests","description":"Integration tests in tests/ are minimal. Most testing is via inline unit tests. Add more end-to-end CLI tests using assert_cmd crate for full workflow verification. Focus on:\n- Full afk go workflow\n- Task lifecycle (sync -\u003e work -\u003e done)\n- Config operations\n- Error scenarios","status":"in_progress","priority":3,"issue_type":"task","estimated_minutes":180,"created_at":"2026-01-14T23:16:33.384682Z","created_by":"rob.macdonald","updated_at":"2026-01-15T11:42:33.414242Z","labels":["testing","low-priority"],"dependencies":[{"issue_id":"afk-3.8","depends_on_id":"afk-3","type":"parent-child","created_at":"0001-01-01T00:00:00Z"}]}
{"id":"afk-3.9","title":"Extract validation logic from config/mod.rs","description":"config/mod.rs is 1,656 lines. Extract validation logic into a separate validation.rs file to improve maintainability and separation of concerns.","status":"closed","priority":2,"issue_type":"task","estimated_minutes":90,"created_at":"2026-01-14T23:16:42.424205Z","created_by":"rob.macdonald","updated_at":"2026-01-15T11:23:13.751917Z","closed_at":"2026-01-15T11:23:13.751917Z","close_reason":"Closed","labels":["refactor","medium-priority"],"dependencies":[{"issue_id":"afk-3.9","depends_on_id":"afk-3","type":"parent-child","created_at":"0001-01-01T00:00:00Z"}]}
{"id":"afk-4","title":"GitHub source: only allow one source, overwrite existing","description":"When adding a GitHub source, it should replace any existing GitHub source rather than adding multiple. Currently you can add multiple GitHub sources which is confusing.","status":"closed","priority":2,"issue_type":"bug","created_at":"2026-01-15T23:01:57.96488Z","created_by":"rob.macdonald","updated_at":"2026-01-16T00:44:49.915199Z","closed_at":"2026-01-15T23:21:18.457625Z","close_reason":"Closed","labels":["github","sources"]}
{"id":"afk-5","title":"GitHub source: infer repo from git remote","description":"When adding a GitHub source without specifying a repo, infer the repository from the current folder's git remote origin. This makes the zero-config experience better.","status":"in_progress","priority":2,"issue_type":"feature","created_at":"2026-01-15T23:01:59.955376Z","created_by":"rob.macdonald","updated_at":"2026-01-15T23:31:14.121792Z","labels":["github","sources","ux"]}
{"id":"afk-6","title":"GitHub source: close issues when tasks complete","description":"When a task from GitHub is marked complete (passes: true), close the corresponding GitHub issue via gh CLI, similar to how beads sync closes beads issues.","status":"closed","priority":2,"issue_type":"feature","created_at":"2026-01-15T23:02:02.787518Z","created_by":"rob.macdonald","updated_at":"2026-01-16T00:44:49.667018Z","closed_at":"2026-01-15T23:31:14.019471Z","close_reason":"Closed","labels":["github","sources","sync"]}
{"id":"afk-7","title":"Status command: show current task as well as next task","description":"afk status should show both the current in-progress task AND the next pending task. Currently it only shows next task.","status":"closed","priority":2,"issue_type":"bug","created_at":"2026-01-15T23:02:05.335688Z","created_by":"rob.macdonald","updated_at":"2026-01-16T00:42:08.116006Z","closed_at":"2026-01-16T00:42:08.116006Z","close_reason":"Closed","labels":["cli","status"]}
{"id":"afk-8","title":"Status command: fix task count mismatch","description":"Task counts under 'Session' section don't match 'Tasks' section. Session shows 0 pending when Tasks shows 4 pending. The counts should be consistent.","status":"closed","priority":1,"issue_type":"bug","created_at":"2026-01-15T23:02:07.994626Z","created_by":"rob.macdonald","updated_at":"2026-01-15T23:09:02.073902Z","closed_at":"2026-01-15T23:09:02.073902Z","close_reason":"Closed","labels":["cli","status","bug"]}
{"id":"afk-9","title":"Init command: reject running inside .afk folder","description":"afk init should detect if it's being run inside a .afk directory and show a helpful error message instead of creating nested .afk folders.","status":"closed","priority":2,"issue_type":"bug","created_at":"2026-01-15T23:02:10.507313Z","created_by":"rob.macdonald","updated_at":"2026-01-16T00:44:49.405021Z","closed_at":"2026-01-16T00:44:49.405021Z","close_reason":"Closed","labels":["cli","init","validation"]}
